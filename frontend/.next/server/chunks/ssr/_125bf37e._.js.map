{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/markkits/Train-list/frontend/src/app/pages/Admin/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\n\ninterface Train {\n  id: string;\n  trainNumber: string;\n  from: string;\n  to: string;\n  departureTime: string;\n  arrivalTime: string;\n}\n\nexport default function AdminPage() {\n  const [trains, setTrains] = useState<Train[]>([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [error, setError] = useState<string | null>(null);\n\n  const token = process.env.NEXT_PUBLIC_API_KEY; // Витягуємо токен з .env файлу\n\n  // Функція для отримання списку потягів\n  const fetchTrains = async () => {\n    const response = await fetch('http://localhost:3009/trains');\n    if (response.ok) {\n      const data = await response.json();\n      setTrains(data);\n    } else {\n      setError('Не вдалося завантажити потяги');\n    }\n  };\n\n  // Функція для видалення потяга\n  const handleDelete = async (trainId: string) => {\n    setError(null);\n\n    try {\n      const response = await fetch(`http://localhost:3009/trains/${trainId}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`, // Додаємо токен до заголовка\n          'Content-Type': 'application/json',\n        },\n      });\n\n      if (!response.ok) {\n        throw new Error('Не вдалося видалити потяг');\n      }\n\n      // Оновлюємо список потягів після успішного видалення\n      setTrains((prevTrains) => prevTrains.filter((train) => train.id !== trainId));\n    } catch (err) {\n      setError('Не вдалося видалити потяг');\n    }\n  };\n\n  // Функція для фільтрації потягів за пошуковим запитом\n  const filteredTrains = trains.filter((train) =>\n    train.trainNumber.includes(searchQuery) || train.from.includes(searchQuery) || train.to.includes(searchQuery)\n  );\n\n  return (\n    <div>\n      <h1>Адміністрування потягів</h1>\n      <input\n        type=\"text\"\n        placeholder=\"Пошук...\"\n        value={searchQuery}\n        onChange={(e) => setSearchQuery(e.target.value)}\n      />\n\n      <button onClick={fetchTrains}>Завантажити потяги</button>\n\n      {error && <p>{error}</p>}\n\n      <ul>\n        {filteredTrains.map((train) => (\n          <li key={train.id}>\n            <span>{train.trainNumber} - {train.from} to {train.to} </span>\n            <button onClick={() => handleDelete(train.id)}>Видалити</button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAae,SAAS;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAW,EAAE;IAChD,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAElD,MAAM,QAAQ,QAAQ,GAAG,CAAC,mBAAmB,EAAE,+BAA+B;IAE9E,uCAAuC;IACvC,MAAM,cAAc;QAClB,MAAM,WAAW,MAAM,MAAM;QAC7B,IAAI,SAAS,EAAE,EAAE;YACf,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,UAAU;QACZ,OAAO;YACL,SAAS;QACX;IACF;IAEA,+BAA+B;IAC/B,MAAM,eAAe,OAAO;QAC1B,SAAS;QAET,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,CAAC,6BAA6B,EAAE,SAAS,EAAE;gBACtE,QAAQ;gBACR,SAAS;oBACP,iBAAiB,CAAC,OAAO,EAAE,OAAO;oBAClC,gBAAgB;gBAClB;YACF;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,IAAI,MAAM;YAClB;YAEA,qDAAqD;YACrD,UAAU,CAAC,aAAe,WAAW,MAAM,CAAC,CAAC,QAAU,MAAM,EAAE,KAAK;QACtE,EAAE,OAAO,KAAK;YACZ,SAAS;QACX;IACF;IAEA,sDAAsD;IACtD,MAAM,iBAAiB,OAAO,MAAM,CAAC,CAAC,QACpC,MAAM,WAAW,CAAC,QAAQ,CAAC,gBAAgB,MAAM,IAAI,CAAC,QAAQ,CAAC,gBAAgB,MAAM,EAAE,CAAC,QAAQ,CAAC;IAGnG,qBACE,8OAAC;;0BACC,8OAAC;0BAAG;;;;;;0BACJ,8OAAC;gBACC,MAAK;gBACL,aAAY;gBACZ,OAAO;gBACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;;;;;;0BAGhD,8OAAC;gBAAO,SAAS;0BAAa;;;;;;YAE7B,uBAAS,8OAAC;0BAAG;;;;;;0BAEd,8OAAC;0BACE,eAAe,GAAG,CAAC,CAAC,sBACnB,8OAAC;;0CACC,8OAAC;;oCAAM,MAAM,WAAW;oCAAC;oCAAI,MAAM,IAAI;oCAAC;oCAAK,MAAM,EAAE;oCAAC;;;;;;;0CACtD,8OAAC;gCAAO,SAAS,IAAM,aAAa,MAAM,EAAE;0CAAG;;;;;;;uBAFxC,MAAM,EAAE;;;;;;;;;;;;;;;;AAQ3B","debugId":null}},
    {"offset": {"line": 134, "column": 0}, "map": {"version":3,"sources":["file:///Users/markkits/Train-list/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored[\n  'react-ssr'\n].ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,4HAAyBC,QAAQ,CACxD,YACD,CAACC,kBAAkB","ignoreList":[0],"debugId":null}}]
}